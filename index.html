  <!-- Made by Stark Verma -->

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	
	<!-- Google Fonts CSS -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">


    <title>IP Details</title>
	<style>
	*{
	font-family: 'Comfortaa', cursive;
	
	}
	body{
	background-color: #A2D2FF;
	}
	.container{
	width:650px;
	}
	
	img{
	width:200px;}
	
	.datep{
	background-color: #97f7ada3;
    padding: 5px;
    font-size: 12px;
    border-radius: 4px;
	}
	.bord{
	padding:8px;
	border-style: dashed;
	border-color:#ffc107;
	}
	
	</style>
  </head>
  <body>
   
	<div class="container shadow mt-5 p-2 rounded bg-white border">
	<div class="d-flex justify-content-between">
	<div class="">
		<p class="mt-3 ms-3 datep" id="date">Date</p>
		</div>
		
		<div class="">
		<button type="button" class="btn btn-primary btn-sm  m-2 p-2 shadow-sm" onclick="fetchText()"> Refresh </button>
		</div>
		</div>
			<h1 class="text-center mb-3">Get Your IP</h1>
		
		<div class="d-flex justify-content-around p-4">
		
		<div class="p-0 ms-1">
			<img  id="myImg" src="images/pic1.png"/>
				</div>
		
		<div class="p-0 me-5 mt-3 text-center">
				<h6>Your Ip Address</h6>
			<span id="ipo"><h2 id="demo" class="text-center mt-4 bord"> </h2></span>
			
			<button type="button" class="btn btn-primary mt-2" onclick="myFunction()">More Details</button>
			<button type="button" class="btn btn-warning mt-2 ms-2" onclick="myFunction2()">Copy</button>
				</div>
		
		
		</div>
		
		
		<div class="text-center mt-2 mb-4" id="myDIV" style="display:none;">
		<hr/>
					<span id="demo1" class="mt-2"></span><br/>
					<span id="demo2" class="mt-2"></span><br/>
					<span id="demo3" class="mt-2"></span><br/>
					<span id="demo4" class="mt-2"></span><br/>
					<span id="demo5" class="mt-2"></span><br/>
					<span id="demo6" class="mt-2"></span><br/>
					<span id="demo7" class="mt-2"></span><br/>
	<hr/>
				</div>
	

</div>


   
   <script>
 // Fetch api module  
 async function fetchText() {
 

    let response = await fetch('https://api.ipify.org/?format=json');
    console.log(response.status); // 200
    console.log(response.statusText); // OK

    if (response.status === 200) {
        let data = await response.json();
        // handle data
		console.log(data);
		
		var nfact = data.ip; 
		document.getElementById("demo").innerHTML = nfact;
		document.getElementById("opm").value = nfact;


			var rand = Math.floor(Math.random() * 4) + 1;
				if(rand==1){
				document.getElementById("myImg").src = "images/pic1.png";
				}
				else if(rand==2){
				document.getElementById("myImg").src = "images/pic2.png";
				}
				else if(rand==3){
				document.getElementById("myImg").src = "images/pic3.png";
				}
				else if(rand==4){
				document.getElementById("myImg").src = "images/pic4.png";
				}else{
				document.getElementById("myImg").src = "images/pic2.png";
				}
	
    }
}

fetchText();


// Refresh Module   
   setInterval(function(){ 	
		fetchText(); 
	}, 25000);  
    

 
// Date Module   
var today = new Date();
var dd = today.getDate();

var mm = today.getMonth()+1; 
var yyyy = today.getFullYear();
if(dd<10) 
{
    dd='0'+dd;
} 


today = dd+'-'+mm+'-'+yyyy;
console.log(today);
document.getElementById("date").innerHTML = today;

 

//Copy ip

function myFunction() {





  var x = document.getElementById("myDIV");
  if (x.style.display === "none") {
    x.style.display = "block";
  } else {
    x.style.display = "none";
  }







  /* Get the text field */
  var copyText = document.getElementById('ipo').textContent;
   
				  async function fetchop() {
				  var ipl = "https://ipinfo.io/"+copyText+"/geo";
				  
					let response = await fetch(ipl);
					console.log(response.status); // 200
					console.log(response.statusText); // OK

					if (response.status === 200) {
						let data = await response.json();
						// handle data
								document.getElementById("demo1").innerHTML = "<b/>IP address</b>: "+data.ip;
								document.getElementById("demo2").innerHTML = "<b>City</b>: "+data.city;
								document.getElementById("demo3").innerHTML = "<b>Region</b>:  "+data.region;
								document.getElementById("demo4").innerHTML = "<b>Country</b>:  "+data.country;
								document.getElementById("demo5").innerHTML = "<b>Org</b>:  "+data.org;
								document.getElementById("demo6").innerHTML = "<b>Postal</b>:  "+data.postal;
								document.getElementById("demo7").innerHTML = "<b>Timezone</b>:  "+data.timezone;

					}
				}

				fetchop();
 
}



//Copy IP address
function myFunction2() {
  /* Get the text field */
  var copyText = document.getElementById('ipo').textContent;

  /* Copy the text inside the text field */
  navigator.clipboard.writeText(copyText);
  
  /* Alert the copied text */
  alert("Copied IP Address: " + copyText);
  
 }
 
 
 
 
 
 
 
 
 



 
 
 
   </script>
   
  </body>
</html>
